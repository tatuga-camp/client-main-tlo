!function(){"use strict";let e;let t=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var s=tinymce.util.Tools.resolve("tinymce.PluginManager");let o=(e,t)=>{e.dispatch("VisualBlocks",{state:t})},l=(e,t,s)=>{e.dom.toggleClass(e.getBody(),"mce-visualblocks"),s.set(!s.get()),o(e,s.get())},i=(e,t,s)=>{e.addCommand("mceVisualBlocks",()=>{l(e,t,s)})},a=e=>{(0,e.options.register)("visualblocks_default_state",{processor:"boolean",default:!1})},c=(e="visualblocks_default_state",t=>t.options.get(e)),u=(e,t,s)=>{e.on("PreviewFormats AfterPreviewFormats",t=>{s.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)}),e.on("init",()=>{c(e)&&l(e,t,s)})},r=(e,t)=>s=>{s.setActive(t.get());let o=e=>s.setActive(e.state);return e.on("VisualBlocks",o),()=>e.off("VisualBlocks",o)},n=(e,t)=>{let s=()=>e.execCommand("mceVisualBlocks");e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:s,onSetup:r(e,t)}),e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:s,onSetup:r(e,t)})};s.add("visualblocks",(e,s)=>{a(e);let o=t(!1);i(e,s,o),n(e,o),u(e,s,o)})}();